<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dragon Tiger</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent; /* Removes tap highlight on mobile */
        }

        html, body {
            height: 100%;
            overflow: hidden; /* Prevent scrolling */
            font-family: 'Poppins', sans-serif;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            background: url('background.png') no-repeat center center fixed; /* Ensure this path is correct */
            background-size: cover;
        }

        #game-wrapper {
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        #game-board {
            background-color: rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            padding: 10px;
            width: 95%; /* Adjust width for full screen use */
            height: 95%; /* Adjust height for full screen use */
            max-width: 900px; /* Limit max width on large screens */
            max-height: 600px; /* Limit max height on large screens */
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.7);
            border: 3px solid rgba(255, 255, 255, 0.3);
            position: relative; /* For absolute positioning of top elements */
            overflow: hidden; /* Hide anything that overflows */
        }

        /* Top Game Elements (Dragon, Tiger, VS) - These will overlay */
        #game-top-overlay {
            position: absolute;
            top: -50px; /* Adjust to move above the main board */
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            align-items: flex-end; /* Align elements to the bottom of the overlay */
            height: 120px; /* Height for the overlay content */
            padding: 0 20px;
            pointer-events: none; /* Allows clicks to pass through */
            z-index: 10;
        }

        .game-entity {
            width: 120px; /* Size of dragon/tiger images */
            height: 120px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center bottom;
        }
        #dragon-entity { background-image: url('https://i.imgur.com/vH1rN2Q.png'); } /* Placeholder Dragon */
        #tiger-entity { background-image: url('https://i.imgur.com/kS5Yd81.png'); } /* Placeholder Tiger */
        #vs-entity {
            background-image: url('https://i.imgur.com/7gKx64D.png'); /* Placeholder VS */
            width: 80px;
            height: 80px;
            background-position: center;
        }

        /* --- Info Bar --- */
        #info-bar-top {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 5px 15px 0 15px; /* Adjusted padding */
            flex-shrink: 0;
            z-index: 5; /* Ensure it's above other elements if positioned over them */
        }
        .balance-display, .total-bet-display {
            background-color: rgba(0, 0, 0, 0.6);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
            min-width: 120px;
            justify-content: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .balance-display i, .total-bet-display i {
            color: #ffc107;
        }

        /* --- Message Display --- */
        #message-display {
            font-size: 1.8rem;
            font-weight: bold;
            color: #ffc107;
            margin: 10px 0;
            text-shadow: 0 0 8px rgba(255, 193, 7, 0.7);
            flex-shrink: 0;
            text-align: center;
        }

        /* --- Betting Area --- */
        #betting-area {
            display: flex;
            justify-content: space-around;
            gap: 15px;
            width: 100%;
            flex-grow: 1; /* Allows it to take available space */
            padding: 0 10px;
            align-items: stretch;
        }

        .bet-box {
            flex: 1;
            border: 3px solid rgba(255, 255, 255, 0.6);
            border-radius: 15px;
            padding: 15px 10px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            min-height: 150px;
            position: relative;
        }

        .bet-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.6);
        }

        .bet-box.purple { background-color: rgba(128, 0, 128, 0.7); }
        .bet-box.green { background-color: rgba(0, 128, 0, 0.7); }
        .bet-box.orange { background-color: rgba(255, 140, 0, 0.7); }

        .bet-box.active-win {
            border-color: #ffdd00; /* Gold border for winner */
            box-shadow: 0 0 25px #ffdd00;
        }

        .box-title {
            font-size: 1.1rem;
            font-weight: 700;
            text-transform: uppercase;
            margin-bottom: 5px;
        }

        .bet-box-icon {
            width: 60px; /* Size for the inner icons */
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 5px 0;
        }
        /* Generic SVG icons for Dragon, Tie, Tiger */
        .bet-box-icon.dragon svg { fill: #fff; width: 80%; height: 80%; }
        .bet-box-icon.tie svg { fill: #fff; width: 80%; height: 80%; }
        .bet-box-icon.tiger svg { fill: #fff; width: 80%; height: 80%; }

        .card-display {
            font-size: 3rem;
            font-weight: bold;
            flex-grow: 1; /* Allows it to take vertical space */
            display: flex;
            justify-content: center;
            align-items: center;
            line-height: 1;
            text-shadow: 0 0 5px rgba(0,0,0,0.5);
            margin: 5px 0;
        }

        .bet-amount {
            font-size: 1.4rem;
            font-weight: 700;
            background-color: rgba(0, 0, 0, 0.5);
            padding: 5px 15px;
            border-radius: 15px;
            margin-top: 10px;
            min-width: 80%;
        }

        /* --- Chip Rail --- */
        #chip-rail {
            display: flex;
            justify-content: center;
            gap: 8px; /* Reduced gap */
            flex-wrap: wrap;
            margin-top: 15px; /* Adjusted margin */
            margin-bottom: 10px;
            flex-shrink: 0;
            padding: 0 5px;
        }

        .chip {
            width: 55px; /* Slightly larger chips */
            height: 55px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            cursor: pointer;
            border: 3px solid #eee;
            box-shadow: 0 3px 8px rgba(0,0,0,0.6);
            transition: transform 0.2s, border-color 0.2s, box-shadow 0.2s;
            background: linear-gradient(145deg, #6a0572, #3c0340); /* Deeper, richer background */
            font-size: 0.95rem;
        }
        /* Specific chip colors to make them look like your preview */
        .chip[data-value="20"] { background: linear-gradient(145deg, #9b59b6, #8e44ad); border-color: #d2a4ed; } /* Purple */
        .chip[data-value="30"] { background: linear-gradient(145deg, #3498db, #2980b9); border-color: #aed6f1; } /* Blue */
        .chip[data-value="50"] { background: linear-gradient(145deg, #2ecc71, #27ae60); border-color: #a9dfbf; } /* Green */
        .chip[data-value="100"] { background: linear-gradient(145deg, #f1c40f, #f39c12); border-color: #f7dc6f; } /* Yellow */
        .chip[data-value="300"] { background: linear-gradient(145deg, #e67e22, #d35400); border-color: #f5b041; } /* Orange */
        .chip[data-value="1000"] { background: linear-gradient(145deg, #e74c3c, #c0392b); border-color: #f5b7b1; } /* Red */
        .chip[data-value="3000"] { background: linear-gradient(145deg, #95a5a6, #7f8c8d); border-color: #bdc3c7; } /* Grey */
        .chip[data-value="5000"] { background: linear-gradient(145deg, #1abc9c, #16a085); border-color: #76d7c4; } /* Teal */


        .chip:hover { transform: scale(1.15); } /* Slightly larger hover */

        .chip.selected {
            border-color: #ffdd00; /* Gold border when selected */
            transform: scale(1.2); /* Larger when selected */
            box-shadow: 0 0 20px #ffdd00;
        }

        /* --- Controls --- */
        #controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
            flex-shrink: 0;
            padding-bottom: 5px;
        }

        .control-btn {
            padding: 10px 22px;
            font-size: 1rem;
            font-weight: bold;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            color: white;
            transition: background-color 0.2s, transform 0.1s;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        }

        .control-btn:active { transform: translateY(2px); }

        #deal-btn { background-color: #28a745; }
        #deal-btn:hover { background-color: #218838; }
        #reset-btn { background-color: #dc3545; }
        #reset-btn:hover { background-color: #c82333; }
        #play-again-btn { background-color: #007bff; }
        #play-again-btn:hover { background-color: #0069d9; }
        button:disabled { background-color: #6c757d; cursor: not-allowed; opacity: 0.7; }

        /* ======================================================= */
        /* === Responsive Styles for Portrait Mode (Refined) === */
        /* ======================================================= */
        @media (orientation: portrait) {
            #game-board {
                padding: 10px 5px; /* Less horizontal padding */
                width: 98%;
                height: 98%;
                max-width: 500px; /* Constrain width */
                max-height: 90vh; /* Constrain height relative to viewport */
            }

            #game-top-overlay {
                top: -30px; /* Adjust overlay position */
                height: 90px;
                padding: 0 10px;
            }
            .game-entity {
                width: 90px;
                height: 90px;
            }
            #vs-entity {
                width: 60px;
                height: 60px;
            }

            #info-bar-top {
                padding: 0 10px;
                margin-top: 60px; /* Push down to clear the top overlay */
            }
            .balance-display, .total-bet-display {
                font-size: 0.8rem;
                padding: 5px 8px;
                min-width: 100px;
            }

            #message-display {
                font-size: 1.4rem;
                margin: 8px 0;
            }

            #betting-area {
                flex-direction: column; /* Stack boxes vertically */
                gap: 8px;
                padding: 0 5px;
            }

            .bet-box {
                min-height: 100px;
                padding: 10px;
                flex-direction: row; /* Horizontal layout for content inside boxes */
                justify-content: space-around; /* Distribute items horizontally */
                align-items: center;
            }

            .box-title {
                font-size: 0.9rem; /* Smaller title */
                margin-right: 5px; /* Space from icon */
                order: 1; /* Puts title first */
            }
            .bet-box-icon {
                width: 45px; /* Smaller icons */
                height: 45px;
                order: 2; /* Puts icon second */
                margin: 0 5px;
            }
            .card-display {
                font-size: 2.2rem; /* Smaller card value */
                order: 3; /* Puts card third */
                margin: 0;
                flex-shrink: 0; /* Don't let it grow */
            }
            .bet-amount {
                font-size: 1.1rem; /* Smaller bet amount */
                padding: 4px 10px;
                order: 4; /* Puts amount last */
                min-width: unset; /* Remove min-width constraint */
            }
            #chip-rail {
                gap: 5px;
                margin-top: 10px;
                margin-bottom: 8px;
            }
            .chip {
                width: 45px; /* Smaller chips for portrait */
                height: 45px;
                font-size: 0.8rem;
                border-width: 2px;
            }
            .chip.selected {
                transform: scale(1.1); /* Less scale on selection */
                box-shadow: 0 0 10px #ffdd00;
            }

            #controls {
                gap: 10px;
                margin-top: 10px;
                padding-bottom: 0;
            }
            .control-btn {
                padding: 8px 15px;
                font-size: 0.9rem;
            }
        }
        /* Further adjustments for extremely narrow/short screens (e.g. older phones, or split screen) */
        @media (max-width: 400px) or (max-height: 400px) {
            #game-board {
                padding: 5px;
                max-height: 98vh;
            }
            #game-top-overlay {
                top: -20px;
                height: 70px;
            }
            .game-entity { width: 70px; height: 70px; }
            #vs-entity { width: 50px; height: 50px; }

            #info-bar-top { margin-top: 50px; padding: 0 5px; }
            .balance-display, .total-bet-display { font-size: 0.7rem; padding: 4px 6px; min-width: 80px;}

            #message-display { font-size: 1.2rem; margin: 5px 0; }

            .bet-box { min-height: 80px; padding: 5px 8px;}
            .box-title { font-size: 0.8rem; }
            .bet-box-icon { width: 35px; height: 35px; }
            .card-display { font-size: 1.8rem; }
            .bet-amount { font-size: 1rem; padding: 3px 8px; }

            #chip-rail { gap: 3px; margin-top: 8px; margin-bottom: 5px;}
            .chip { width: 35px; height: 35px; font-size: 0.7rem; border-width: 1px;}
            .chip.selected { transform: scale(1.05); box-shadow: 0 0 5px #ffdd00;}

            #controls { gap: 8px; margin-top: 8px; }
            .control-btn { padding: 6px 12px; font-size: 0.8rem;}
        }

    </style>
</head>
<body>
    <div id="game-wrapper">
        <div id="game-board">
            <div id="game-top-overlay">
                <div id="dragon-entity" class="game-entity"></div>
                <div id="vs-entity" class="game-entity"></div>
                <div id="tiger-entity" class="game-entity"></div>
            </div>

            <div id="info-bar-top">
                <div class="balance-display">
                    <i class="fas fa-wallet"></i>
                    <span id="balance-display-text">$10000</span>
                </div>
                <div class="total-bet-display">
                    <i class="fas fa-hand-holding-dollar"></i>
                    <span id="total-bet-display-text">$0</span>
                </div>
            </div>

            <div id="message-display">Place your bets!</div>

            <div id="betting-area">
                <div class="bet-box purple" id="dragon-box">
                    <div class="box-title">DRAGON BET</div>
                    <div class="bet-box-icon dragon">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm-1 16c-3.31 0-6-2.69-6-6h2c0 2.21 1.79 4 4 4v2zm0-10c-2.21 0-4-1.79-4-4v-2c3.31 0 6 2.69 6 6h-2zm2 10c2.21 0 4-1.79 4-4h2c0 3.31-2.69 6-6 6v-2zm0-10v-2c-3.31 0-6 2.69-6 6h2c0-2.21 1.79-4 4-4z"/>
                        </svg>
                    </div>
                    <div class="card-display" id="dragon-card"></div>
                    <div class="bet-amount" id="dragon-bet-display">$0</div>
                </div>
                <div class="bet-box green" id="tie-box">
                    <div class="box-title">TIE BET (8:1)</div>
                    <div class="bet-box-icon tie">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zM8 12c0-2.21 1.79-4 4-4v8c-2.21 0-4-1.79-4-4zm8 0c0 2.21-1.79 4-4 4V8c2.21 0 4 1.79 4 4z"/>
                        </svg>
                    </div>
                    <div class="card-display"></div>
                    <div class="bet-amount" id="tie-bet-display">$0</div>
                </div>
                <div class="bet-box orange" id="tiger-box">
                    <div class="box-title">TIGER BET</div>
                    <div class="bet-box-icon tiger">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm-1 4c0-.55.45-1 1-1s1 .45 1 1v2.5c0 .28-.22.5-.5.5h-1c-.28 0-.5-.22-.5-.5V6zm-3 8c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm8 0c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1z"/>
                        </svg>
                    </div>
                    <div class="card-display" id="tiger-card"></div>
                    <div class="bet-amount" id="tiger-bet-display">$0</div>
                </div>
            </div>

            <div id="chip-rail">
                </div>

            <div id="controls">
                <button class="control-btn" id="deal-btn">Deal</button>
                <button class="control-btn" id="reset-btn">Reset</button>
                <button class="control-btn" id="play-again-btn" style="display: none;">Play Again</button>
            </div>
        </div>
    </div>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <script src="script.js"></script>
</body>
                    </html>
